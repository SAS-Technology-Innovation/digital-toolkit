<!--
/**
 * SAS Digital Toolkit - Digital Signage Display
 *
 * A full-screen, auto-advancing slideshow designed for display on digital signage
 * boards throughout Singapore American School. Features animated transitions,
 * dynamic data from the app database, and SAS brand styling.
 *
 * @fileoverview Digital signage slideshow for the SAS Digital Toolkit.
 * Accessed via: ?page=signage parameter in doGet() (Code.js)
 *
 * Slide Types:
 * - Welcome Slide: SAS branding and introduction
 * - Stats Overview: Key metrics with animated stat cards
 * - Enterprise Apps: Premium gold-styled core tools showcase
 * - What's New: Recently added apps (last 30 days) with red theme
 * - App Spotlights: Featured apps with detailed information
 * - Division Apps: Elementary, Middle, and High School app showcases
 *
 * Configuration (in <script> section):
 * - SLIDE_DURATION: Duration per slide in ms (default: 12000 = 12 seconds)
 * - REFRESH_INTERVAL: Data refresh interval in ms (default: 300000 = 5 minutes)
 * - NEW_APP_THRESHOLD_DAYS: Days to consider app "new" (default: 30)
 * - MAX_APPS_PER_SLIDE: Maximum apps per slide (default: 6)
 *
 * External Dependencies:
 * - Google Fonts: Bebas Neue (headings), DM Sans (body)
 * - Lucide Icons: Icon library for UI elements
 *
 * Backend Integration:
 * - getDashboardData(): Fetches app data from Google Sheets
 *
 * Use Cases:
 * - Main entrance displays
 * - Library/Media Center screens
 * - Teacher lounges and division offices
 * - Cafeteria/common area displays
 *
 * @author SAS Technology Innovation Team
 * @see {@link branding.md} for SAS brand guidelines
 * @see {@link SIGNAGE.md} for complete setup and customization guide
 * @see {@link Code.js#doGet} for URL routing
 */
-->
<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <title>SAS Digital Toolkit - Signage</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- SAS Brand Fonts: Bebas Neue for headings, DM Sans for body text -->
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <!-- Icon library for UI elements -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <style>
    /**
     * SAS Brand Colors
     * @see branding.md for complete color specifications
     *
     * Primary Colors:
     * - SAS Red (#a0192a): Secondary brand color, Middle School division
     * - SAS Blue (#1a2d58): Primary brand color, High School division
     * - Eagle Yellow (#fabc00): Accent color, Enterprise apps highlight
     * - Light Gray (#d8dadb): Neutral/background color
     *
     * Division Colors:
     * - Elementary (#228ec2): Light blue
     * - Middle School (#a0192a): SAS Red
     * - High School (#1a2d58): SAS Blue/Navy
     */
    :root {
      /* Primary Colors */
      --sas-red: #a0192a;
      --sas-blue: #1a2d58;
      --sas-yellow: #fabc00;
      --sas-gray: #d8dadb;

      /* Division Colors */
      --elementary: #228ec2;
      --middle-school: #a0192a;
      --high-school: #1a2d58;

      /* Semantic Colors */
      --primary: var(--sas-blue);
      --secondary: var(--sas-red);
      --accent: var(--sas-yellow);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'DM Sans', Arial, sans-serif;
      background: linear-gradient(135deg, var(--sas-blue) 0%, #0f1a35 100%);
      color: white;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    .slideshow-container {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
    }

    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 60px;
    }

    .slide.active {
      opacity: 1;
      z-index: 10;
    }

    /* Welcome Slide */
    .welcome-slide {
      background: linear-gradient(135deg, var(--sas-blue) 0%, #2a4178 50%, var(--sas-red) 100%);
      text-align: center;
    }

    .welcome-slide .logo {
      font-size: 8rem;
      margin-bottom: 40px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .welcome-slide h1 {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 6rem;
      letter-spacing: 4px;
      margin-bottom: 20px;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
    }

    .welcome-slide .subtitle {
      font-size: 2.5rem;
      font-weight: 300;
      color: var(--sas-yellow);
      margin-bottom: 40px;
    }

    .welcome-slide .tagline {
      font-size: 1.8rem;
      font-weight: 400;
      opacity: 0.9;
      max-width: 900px;
      line-height: 1.5;
    }

    /* Stats Slide */
    .stats-slide {
      background: linear-gradient(135deg, #0f1a35 0%, var(--sas-blue) 100%);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 40px;
      max-width: 1200px;
      width: 100%;
    }

    .stat-card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 24px;
      padding: 50px;
      text-align: center;
      transition: transform 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-number {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 7rem;
      color: var(--sas-yellow);
      line-height: 1;
      margin-bottom: 20px;
    }

    .stat-label {
      font-size: 2rem;
      font-weight: 600;
      opacity: 0.9;
    }

    .stats-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 5rem;
      letter-spacing: 3px;
      margin-bottom: 60px;
      text-align: center;
    }

    /* Enterprise Apps Slide */
    .enterprise-slide {
      background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
    }

    .enterprise-header {
      text-align: center;
      margin-bottom: 60px;
    }

    .enterprise-badge {
      display: inline-flex;
      align-items: center;
      gap: 15px;
      background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
      color: #1a1a1a;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 1.5rem;
      font-weight: 800;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(255,215,0,0.3);
    }

    .enterprise-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 5rem;
      letter-spacing: 3px;
      color: #ffd700;
    }

    .enterprise-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      max-width: 1400px;
      width: 100%;
    }

    .enterprise-app-card {
      background: linear-gradient(135deg, rgba(255,215,0,0.15) 0%, rgba(255,237,78,0.1) 100%);
      border: 3px solid #ffd700;
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .enterprise-app-card::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
      border-radius: 20px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .enterprise-app-card:hover::before {
      opacity: 1;
    }

    .enterprise-app-logo {
      width: 100px;
      height: 100px;
      object-fit: contain;
      margin-bottom: 20px;
      filter: drop-shadow(0 5px 15px rgba(255,215,0,0.3));
    }

    .enterprise-app-name {
      font-size: 2.2rem;
      font-weight: 800;
      color: #ffd700;
      margin-bottom: 15px;
    }

    .enterprise-app-desc {
      font-size: 1.3rem;
      opacity: 0.9;
      line-height: 1.4;
      color: white;
    }

    /* What's New Slide */
    .whats-new-slide {
      background: linear-gradient(135deg, var(--sas-red) 0%, #800e1f 100%);
    }

    .whats-new-header {
      text-align: center;
      margin-bottom: 60px;
    }

    .new-badge {
      display: inline-flex;
      align-items: center;
      gap: 15px;
      background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
      color: white;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 1.5rem;
      font-weight: 800;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(255,68,68,0.4);
      animation: glow 2s ease-in-out infinite;
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 10px 30px rgba(255,68,68,0.4); }
      50% { box-shadow: 0 15px 40px rgba(255,68,68,0.6); }
    }

    .whats-new-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 5rem;
      letter-spacing: 3px;
    }

    .new-apps-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      max-width: 1400px;
      width: 100%;
    }

    .new-app-card {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .new-app-card::after {
      content: 'NEW';
      position: absolute;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
      color: white;
      padding: 8px 20px;
      border-radius: 20px;
      font-weight: 800;
      font-size: 0.9rem;
      box-shadow: 0 5px 15px rgba(255,68,68,0.4);
    }

    .new-app-logo {
      width: 100px;
      height: 100px;
      object-fit: contain;
      margin-bottom: 20px;
      filter: drop-shadow(0 5px 15px rgba(255,255,255,0.3));
    }

    .new-app-name {
      font-size: 2.2rem;
      font-weight: 800;
      margin-bottom: 15px;
    }

    .new-app-desc {
      font-size: 1.3rem;
      opacity: 0.9;
      line-height: 1.4;
      margin-bottom: 15px;
    }

    .new-app-date {
      font-size: 1.1rem;
      opacity: 0.7;
      font-style: italic;
    }

    /* App Spotlight Slide */
    .spotlight-slide {
      background: linear-gradient(135deg, var(--sas-blue) 0%, var(--sas-red) 100%);
    }

    .spotlight-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      max-width: 1400px;
      width: 100%;
      align-items: center;
    }

    .spotlight-visual {
      text-align: center;
    }

    .spotlight-logo {
      width: 300px;
      height: 300px;
      object-fit: contain;
      margin-bottom: 30px;
      filter: drop-shadow(0 10px 30px rgba(0,0,0,0.3));
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .spotlight-badges {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .spotlight-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(10px);
      padding: 10px 25px;
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .spotlight-info {
      text-align: left;
    }

    .spotlight-category {
      color: var(--sas-yellow);
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .spotlight-name {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 5rem;
      letter-spacing: 3px;
      margin-bottom: 30px;
      line-height: 1;
    }

    .spotlight-description {
      font-size: 1.8rem;
      line-height: 1.6;
      margin-bottom: 30px;
      opacity: 0.95;
    }

    .spotlight-features {
      list-style: none;
    }

    .spotlight-features li {
      font-size: 1.5rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .spotlight-features li::before {
      content: '✓';
      color: var(--sas-yellow);
      font-size: 2rem;
      font-weight: 800;
    }

    /* Category Showcase Slide */
    .category-slide {
      background: linear-gradient(135deg, #0f1a35 0%, var(--sas-blue) 100%);
    }

    .category-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .category-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 100px;
      height: 100px;
      background: var(--category-color, var(--sas-blue));
      border-radius: 50%;
      margin-bottom: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .category-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 4rem;
      letter-spacing: 3px;
      margin-bottom: 10px;
    }

    .category-count {
      font-size: 1.5rem;
      opacity: 0.8;
      color: var(--sas-yellow);
    }

    .category-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      max-width: 1400px;
      width: 100%;
      align-items: start;
    }

    .category-why-section {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .why-card, .how-card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 30px;
      border-left: 4px solid var(--sas-yellow);
    }

    .why-label, .how-label {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 1.5rem;
      color: var(--sas-yellow);
      margin-bottom: 10px;
      letter-spacing: 2px;
    }

    .why-text, .how-text {
      font-size: 1.4rem;
      line-height: 1.5;
      opacity: 0.95;
    }

    .category-apps-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .category-app-card {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .category-app-logo {
      width: 60px;
      height: 60px;
      object-fit: contain;
      margin-bottom: 10px;
    }

    .category-app-name {
      font-size: 1.3rem;
      font-weight: 700;
    }

    /* Division Apps Slide - Redesigned */
    .division-slide {
      background: linear-gradient(135deg, var(--elementary) 0%, #1a6b94 100%);
    }

    .division-slide.middleSchool {
      background: linear-gradient(135deg, var(--middle-school) 0%, #70111f 100%);
    }

    .division-slide.highSchool {
      background: linear-gradient(135deg, var(--high-school) 0%, #0f1a35 100%);
    }

    .division-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .division-grades {
      font-size: 1.3rem;
      text-transform: uppercase;
      letter-spacing: 3px;
      opacity: 0.8;
      margin-bottom: 10px;
    }

    .division-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 5rem;
      letter-spacing: 3px;
      margin-bottom: 10px;
    }

    .division-tagline {
      font-size: 2rem;
      color: var(--sas-yellow);
      font-weight: 600;
    }

    .division-content {
      text-align: center;
      margin-bottom: 30px;
      max-width: 900px;
    }

    .division-description {
      font-size: 1.5rem;
      opacity: 0.9;
      margin-bottom: 20px;
      line-height: 1.5;
    }

    .division-categories {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .division-category-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255,255,255,0.2);
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .division-stats {
      font-size: 1.3rem;
      opacity: 0.9;
    }

    .division-stat strong {
      font-size: 1.8rem;
      color: var(--sas-yellow);
    }

    .division-apps-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      max-width: 1200px;
      width: 100%;
    }

    .division-app-card {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .division-app-logo {
      width: 60px;
      height: 60px;
      object-fit: contain;
      margin-bottom: 10px;
    }

    .division-app-name {
      font-size: 1.3rem;
      font-weight: 700;
    }

    /* Features Slide */
    .features-slide {
      background: linear-gradient(135deg, var(--sas-blue) 0%, #2a4178 50%, var(--sas-red) 100%);
    }

    .features-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 4rem;
      letter-spacing: 3px;
      margin-bottom: 50px;
      text-align: center;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 30px;
      max-width: 1400px;
      width: 100%;
    }

    .feature-card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      transition: transform 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
    }

    .feature-card i {
      color: var(--sas-yellow);
      margin-bottom: 20px;
    }

    .feature-number {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 4rem;
      color: var(--sas-yellow);
      line-height: 1;
      margin-bottom: 10px;
    }

    .feature-label {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 15px;
    }

    .feature-desc {
      font-size: 1.1rem;
      opacity: 0.85;
      line-height: 1.4;
    }

    /* Stats slide enhancement */
    .stat-detail {
      font-size: 1.1rem;
      opacity: 0.7;
      margin-top: 10px;
    }

    /* Enterprise slide enhancement */
    .enterprise-why {
      font-size: 1.5rem;
      opacity: 0.9;
      max-width: 800px;
      margin: 0 auto;
    }

    /* What's New enhancement */
    .whats-new-subtitle {
      font-size: 1.5rem;
      opacity: 0.9;
      margin-top: 10px;
    }

    /* Footer with progress indicator */
    .slide-footer {
      position: absolute;
      bottom: 40px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      z-index: 20;
    }

    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      transition: all 0.3s ease;
    }

    .progress-dot.active {
      background: var(--sas-yellow);
      width: 40px;
      border-radius: 6px;
    }

    /* Loading State */
    .loading {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 6px solid rgba(255,255,255,0.3);
      border-top-color: var(--sas-yellow);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 30px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 2rem;
      font-weight: 600;
    }

    /* Error State */
    .error {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      padding: 60px;
    }

    .error-icon {
      font-size: 5rem;
      margin-bottom: 30px;
      color: #ff4444;
    }

    .error-title {
      font-family: 'Bebas Neue', Arial, sans-serif;
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .error-message {
      font-size: 1.5rem;
      opacity: 0.9;
      max-width: 700px;
    }

    /* Auto-refresh indicator */
    .refresh-indicator {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      padding: 10px 20px;
      border-radius: 30px;
      font-size: 0.9rem;
      opacity: 0.7;
      z-index: 30;
    }

    .refresh-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #4ade80;
      animation: blink 2s ease-in-out infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    /* Responsive adjustments for smaller screens */
    @media (max-width: 1024px) {
      .welcome-slide h1 { font-size: 4rem; }
      .welcome-slide .subtitle { font-size: 2rem; }
      .welcome-slide .tagline { font-size: 1.5rem; }
      .stats-title, .enterprise-title, .whats-new-title, .division-title { font-size: 4rem; }
      .spotlight-name { font-size: 4rem; }
      .spotlight-content { grid-template-columns: 1fr; text-align: center; }
      .spotlight-info { text-align: center; }
      .stat-number { font-size: 5rem; }
    }

    @media (max-width: 768px) {
      .slide { padding: 30px; }
      .stats-grid { grid-template-columns: 1fr; }
      .enterprise-grid, .new-apps-grid, .division-apps-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Auto-refresh indicator -->
  <div class="refresh-indicator">
    <div class="refresh-dot"></div>
    <span>Live Updates</span>
  </div>

  <!-- Loading State -->
  <div id="loading" class="loading">
    <div class="loading-spinner"></div>
    <div class="loading-text">Loading SAS Digital Toolkit...</div>
  </div>

  <!-- Error State -->
  <div id="error" class="error" style="display: none;">
    <div class="error-icon">⚠️</div>
    <h2 class="error-title">Connection Error</h2>
    <p class="error-message" id="error-message"></p>
  </div>

  <!-- Slideshow Container -->
  <div id="slideshow" class="slideshow-container" style="display: none;">
    <!-- Slides will be dynamically generated here -->
  </div>

  <!-- Progress Indicator -->
  <div class="slide-footer" id="progress-indicator">
    <!-- Progress dots will be dynamically generated here -->
  </div>

  <script>
    // ============================================================
    // CONFIGURATION
    // ============================================================
    const SLIDE_DURATION = 10000; // 10 seconds per slide (increased for readability)
    const REFRESH_INTERVAL = 300000; // Refresh data every 5 minutes
    const NEW_APP_THRESHOLD_DAYS = 30; // Apps added in last 30 days are "new"
    const MAX_APPS_PER_SLIDE = 4; // Reduced for cleaner display
    const MAX_SPOTLIGHT_APPS = 3; // Limit spotlight slides to reduce length

    let currentSlideIndex = 0;
    let slides = [];
    let slideInterval;
    let appData = null;
    let processedData = null; // Stores de-duplicated and categorized data

    // ============================================================
    // CATEGORY DEFINITIONS - Maps categories to icons and "why" messaging
    // ============================================================
    const CATEGORY_CONFIG = {
      'Learning Management': {
        icon: 'book-open',
        color: '#228ec2',
        why: 'Streamline course delivery and student engagement',
        how: 'Centralized hub for assignments, grades, and communication'
      },
      'Content Creation': {
        icon: 'palette',
        color: '#a0192a',
        why: 'Empower creativity and multimedia learning',
        how: 'Create videos, graphics, presentations, and interactive content'
      },
      'Assessment': {
        icon: 'clipboard-check',
        color: '#1a2d58',
        why: 'Measure understanding and track progress',
        how: 'Formative quizzes, summative tests, and learning analytics'
      },
      'Collaboration': {
        icon: 'users',
        color: '#fabc00',
        why: 'Foster teamwork and communication skills',
        how: 'Real-time document editing, video calls, and project spaces'
      },
      'Productivity': {
        icon: 'briefcase',
        color: '#6d6f72',
        why: 'Work smarter, not harder',
        how: 'Email, calendars, documents, and workflow automation'
      },
      'Communication': {
        icon: 'message-circle',
        color: '#228ec2',
        why: 'Connect families, students, and teachers',
        how: 'Messaging, portfolios, and parent engagement platforms'
      },
      'Research': {
        icon: 'search',
        color: '#1a2d58',
        why: 'Access credible sources and develop inquiry skills',
        how: 'Databases, citation tools, and academic resources'
      },
      'STEM': {
        icon: 'cpu',
        color: '#a0192a',
        why: 'Hands-on learning in science, tech, and math',
        how: 'Coding, simulations, robotics, and data analysis'
      },
      'Reading & Writing': {
        icon: 'book',
        color: '#228ec2',
        why: 'Build literacy and language skills',
        how: 'Reading platforms, writing tools, and language practice'
      },
      'Other': {
        icon: 'grid',
        color: '#6d6f72',
        why: 'Specialized tools for unique learning needs',
        how: 'Diverse applications supporting various educational goals'
      }
    };

    // ============================================================
    // DIVISION MESSAGING - "Why" for each division
    // ============================================================
    const DIVISION_CONFIG = {
      elementary: {
        title: 'Elementary School',
        grades: 'Pre-K through Grade 5',
        tagline: 'Building Digital Foundations',
        color: '#228ec2',
        description: 'Age-appropriate tools that spark curiosity and develop foundational digital literacy skills'
      },
      middleSchool: {
        title: 'Middle School',
        grades: 'Grades 6-8',
        tagline: 'Expanding Digital Horizons',
        color: '#a0192a',
        description: 'Tools that support exploration, deeper inquiry, and growing independence'
      },
      highSchool: {
        title: 'High School',
        grades: 'Grades 9-12',
        tagline: 'Preparing Global Citizens',
        color: '#1a2d58',
        description: 'Advanced platforms for research, collaboration, and college-ready skills'
      }
    };

    // ============================================================
    // HELPER FUNCTIONS
    // ============================================================

    /**
     * Get favicon URL from website domain
     */
    function getFaviconUrl(website) {
      if (!website) return '';
      try {
        const domain = new URL(website).hostname;
        return `https://www.google.com/s2/favicons?domain=${encodeURIComponent(domain)}&sz=64`;
      } catch (e) {
        return '';
      }
    }

    /**
     * Get all unique apps across all divisions (de-duplicated)
     */
    function getAllUniqueApps() {
      const allApps = [
        ...(appData.wholeSchool.apps || []),
        ...(appData.elementary.apps || []),
        ...(appData.middleSchool.apps || []),
        ...(appData.highSchool.apps || [])
      ];
      return Array.from(new Map(allApps.map(app => [app.product, app])).values());
    }

    /**
     * Group apps by category
     */
    function groupAppsByCategory(apps) {
      const groups = {};
      apps.forEach(app => {
        const category = normalizeCategory(app.category || app.subject || 'Other');
        if (!groups[category]) {
          groups[category] = [];
        }
        groups[category].push(app);
      });
      return groups;
    }

    /**
     * Normalize category names to match our CATEGORY_CONFIG
     */
    function normalizeCategory(category) {
      const cat = (category || '').toLowerCase();
      if (cat.includes('lms') || cat.includes('learning management')) return 'Learning Management';
      if (cat.includes('content') || cat.includes('creat') || cat.includes('design') || cat.includes('video') || cat.includes('media')) return 'Content Creation';
      if (cat.includes('assess') || cat.includes('quiz') || cat.includes('test') || cat.includes('grade')) return 'Assessment';
      if (cat.includes('collab') || cat.includes('team') || cat.includes('project')) return 'Collaboration';
      if (cat.includes('product') || cat.includes('office') || cat.includes('workspace')) return 'Productivity';
      if (cat.includes('commun') || cat.includes('message') || cat.includes('parent') || cat.includes('portfolio')) return 'Communication';
      if (cat.includes('research') || cat.includes('database') || cat.includes('citation') || cat.includes('library')) return 'Research';
      if (cat.includes('stem') || cat.includes('code') || cat.includes('coding') || cat.includes('math') || cat.includes('science') || cat.includes('robot')) return 'STEM';
      if (cat.includes('read') || cat.includes('writ') || cat.includes('literacy') || cat.includes('language') || cat.includes('english')) return 'Reading & Writing';
      return 'Other';
    }

    /**
     * Get apps added within threshold days (de-duplicated)
     */
    function getNewApps() {
      return getAllUniqueApps().filter(app => isWithinDays(app.dateAdded, NEW_APP_THRESHOLD_DAYS));
    }

    /**
     * Check if date is within specified days
     */
    function isWithinDays(dateString, days) {
      if (!dateString) return false;
      try {
        const date = new Date(dateString);
        const now = new Date();
        const diffTime = Math.abs(now - date);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        return diffDays <= days;
      } catch (e) {
        return false;
      }
    }

    /**
     * Format date for display
     */
    function formatDate(dateString) {
      if (!dateString) return 'Recently';
      try {
        const date = new Date(dateString);
        const options = { month: 'short', day: 'numeric', year: 'numeric' };
        return date.toLocaleDateString('en-US', options);
      } catch (e) {
        return 'Recently';
      }
    }

    /**
     * Get accurate stats (de-duplicated counts)
     */
    function getAccurateStats() {
      const uniqueApps = getAllUniqueApps();
      const enterpriseApps = appData.wholeSchool.enterpriseApps || [];
      const everyoneApps = appData.wholeSchool.everyoneApps || [];
      const categoryGroups = groupAppsByCategory(uniqueApps);

      // Count unique division-specific apps (not including whole school)
      const elementaryOnly = (appData.elementary.apps || []).filter(app => !app.isWholeSchool);
      const middleOnly = (appData.middleSchool.apps || []).filter(app => !app.isWholeSchool);
      const highOnly = (appData.highSchool.apps || []).filter(app => !app.isWholeSchool);

      return {
        totalUniqueApps: uniqueApps.length,
        enterpriseCount: enterpriseApps.length,
        schoolWideCount: everyoneApps.length,
        elementaryCount: elementaryOnly.length,
        middleCount: middleOnly.length,
        highCount: highOnly.length,
        categoryCount: Object.keys(categoryGroups).length,
        newAppsCount: getNewApps().length,
        ssoEnabledCount: uniqueApps.filter(app => app.ssoEnabled).length,
        mobileCount: uniqueApps.filter(app => app.mobileApp && app.mobileApp.toLowerCase() !== 'no').length
      };
    }

    // ============================================================
    // INITIALIZATION
    // ============================================================
    document.addEventListener('DOMContentLoaded', function() {
      lucide.createIcons();
      loadData();
      setInterval(loadData, REFRESH_INTERVAL);
    });

    /**
     * Load data from Google Apps Script backend
     */
    function loadData() {
      console.log('Loading dashboard data...');
      if (typeof google !== 'undefined' && typeof google.script !== 'undefined') {
        google.script.run
          .withSuccessHandler(handleDataLoaded)
          .withFailureHandler(handleError)
          .getDashboardData();
      } else {
        console.log('Running in local test mode with mock data');
        setTimeout(() => handleDataLoaded(JSON.stringify(getMockData())), 1000);
      }
    }

    /**
     * Handle successful data load
     */
    function handleDataLoaded(jsonData) {
      try {
        const data = JSON.parse(jsonData);
        if (data.error) {
          handleError(data.error);
          return;
        }
        appData = data;
        console.log('Data loaded successfully');
        generateSlides();
        startSlideshow();
        document.getElementById('loading').style.display = 'none';
        document.getElementById('error').style.display = 'none';
        document.getElementById('slideshow').style.display = 'block';
      } catch (error) {
        console.error('Error parsing data:', error);
        handleError('Failed to parse data: ' + error.message);
      }
    }

    /**
     * Handle data loading error
     */
    function handleError(error) {
      console.error('Error loading data:', error);
      document.getElementById('loading').style.display = 'none';
      document.getElementById('error').style.display = 'flex';
      document.getElementById('error-message').textContent = error;
    }

    // ============================================================
    // SLIDE GENERATION - Focus on WHY and HOW, not overlaps
    // ============================================================

    /**
     * Generate all slides based on loaded data
     */
    function generateSlides() {
      const slideshowContainer = document.getElementById('slideshow');
      slideshowContainer.innerHTML = '';
      slides = [];

      const stats = getAccurateStats();

      // 1. Welcome Slide - Updated messaging
      slides.push(createWelcomeSlide());

      // 2. Impact Stats Slide - Accurate, de-duplicated counts
      slides.push(createImpactSlide(stats));

      // 3. Enterprise Apps Slide - Core tools everyone uses
      const enterpriseApps = appData.wholeSchool.enterpriseApps || [];
      if (enterpriseApps.length > 0) {
        slides.push(createEnterpriseSlide(enterpriseApps));
      }

      // 4. Category Showcase Slides - Show the "why" for each category
      const uniqueApps = getAllUniqueApps();
      const categoryGroups = groupAppsByCategory(uniqueApps);
      const topCategories = Object.entries(categoryGroups)
        .sort((a, b) => b[1].length - a[1].length)
        .slice(0, 4); // Top 4 categories only

      topCategories.forEach(([category, apps]) => {
        slides.push(createCategorySlide(category, apps));
      });

      // 5. Division Highlights - One slide per division with purpose
      slides.push(createDivisionHighlightSlide('elementary', appData.elementary));
      slides.push(createDivisionHighlightSlide('middleSchool', appData.middleSchool));
      slides.push(createDivisionHighlightSlide('highSchool', appData.highSchool));

      // 6. What's New Slide (if any new apps) - Limited to one slide
      const newApps = getNewApps();
      if (newApps.length > 0) {
        slides.push(createWhatsNewSlide(newApps.slice(0, MAX_APPS_PER_SLIDE)));
      }

      // 7. Features Highlight Slide - SSO, Mobile, etc.
      slides.push(createFeaturesSlide(stats));

      // Append all slides
      slides.forEach((slide, index) => {
        if (index === 0) slide.classList.add('active');
        slideshowContainer.appendChild(slide);
      });

      createProgressIndicator();
    }

    /**
     * Create Welcome Slide - Updated with purpose-driven messaging
     */
    function createWelcomeSlide() {
      const slide = document.createElement('div');
      slide.className = 'slide welcome-slide';
      slide.innerHTML = `
        <div class="logo">
          <i data-lucide="rocket" style="width: 120px; height: 120px;"></i>
        </div>
        <h1>SAS DIGITAL TOOLKIT</h1>
        <p class="subtitle">Your Gateway to Educational Technology</p>
        <p class="tagline">
          <strong>Discover</strong> the right tools for your classroom<br>
          <strong>Learn</strong> how to integrate technology effectively<br>
          <strong>Connect</strong> with resources that enhance learning
        </p>
      `;
      lucide.createIcons({ nameAttr: 'data-lucide' });
      return slide;
    }

    /**
     * Create Impact Stats Slide - Shows accurate, de-duplicated counts
     */
    function createImpactSlide(stats) {
      const slide = document.createElement('div');
      slide.className = 'slide stats-slide';
      slide.innerHTML = `
        <h2 class="stats-title">Our Digital Ecosystem</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number">${stats.totalUniqueApps}</div>
            <div class="stat-label">Educational Tools</div>
            <div class="stat-detail">Curated for SAS learners</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">${stats.enterpriseCount}</div>
            <div class="stat-label">Core Platforms</div>
            <div class="stat-detail">Enterprise-wide solutions</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">${stats.categoryCount}</div>
            <div class="stat-label">Categories</div>
            <div class="stat-detail">From STEM to Literacy</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">${stats.ssoEnabledCount}</div>
            <div class="stat-label">SSO Enabled</div>
            <div class="stat-detail">One-click access</div>
          </div>
        </div>
      `;
      return slide;
    }

    /**
     * Create Enterprise Apps Slide - Focuses on WHY these are core tools
     */
    function createEnterpriseSlide(apps) {
      const slide = document.createElement('div');
      slide.className = 'slide enterprise-slide';
      const displayApps = apps.slice(0, MAX_APPS_PER_SLIDE);

      const appsHTML = displayApps.map(app => {
        const logoUrl = app.logoUrl || getFaviconUrl(app.website);
        return `
          <div class="enterprise-app-card">
            ${logoUrl ? `<img src="${logoUrl}" alt="${app.product}" class="enterprise-app-logo" onerror="this.style.display='none'">` : ''}
            <div class="enterprise-app-name">${app.product}</div>
            <div class="enterprise-app-desc">${app.description || 'Core SAS platform'}</div>
          </div>
        `;
      }).join('');

      slide.innerHTML = `
        <div class="enterprise-header">
          <div class="enterprise-badge">
            <i data-lucide="shield-check" style="width: 24px; height: 24px;"></i>
            <span>CORE PLATFORMS</span>
          </div>
          <h2 class="enterprise-title">Your Essential Tools</h2>
          <p class="enterprise-why">These enterprise platforms form the foundation of digital learning at SAS</p>
        </div>
        <div class="enterprise-grid">
          ${appsHTML}
        </div>
      `;
      lucide.createIcons({ nameAttr: 'data-lucide' });
      return slide;
    }

    /**
     * Create Category Showcase Slide - Shows WHY and HOW for each category
     */
    function createCategorySlide(category, apps) {
      const slide = document.createElement('div');
      slide.className = 'slide category-slide';

      const config = CATEGORY_CONFIG[category] || CATEGORY_CONFIG['Other'];
      const displayApps = apps.slice(0, MAX_APPS_PER_SLIDE);

      const appsHTML = displayApps.map(app => {
        const logoUrl = app.logoUrl || getFaviconUrl(app.website);
        return `
          <div class="category-app-card">
            ${logoUrl ? `<img src="${logoUrl}" alt="${app.product}" class="category-app-logo" onerror="this.style.display='none'">` : ''}
            <div class="category-app-name">${app.product}</div>
          </div>
        `;
      }).join('');

      slide.innerHTML = `
        <div class="category-header" style="--category-color: ${config.color}">
          <div class="category-icon">
            <i data-lucide="${config.icon}" style="width: 60px; height: 60px;"></i>
          </div>
          <h2 class="category-title">${category}</h2>
          <p class="category-count">${apps.length} tools available</p>
        </div>
        <div class="category-content">
          <div class="category-why-section">
            <div class="why-card">
              <div class="why-label">WHY</div>
              <p class="why-text">${config.why}</p>
            </div>
            <div class="how-card">
              <div class="how-label">HOW</div>
              <p class="how-text">${config.how}</p>
            </div>
          </div>
          <div class="category-apps-grid">
            ${appsHTML}
          </div>
        </div>
      `;
      lucide.createIcons({ nameAttr: 'data-lucide' });
      return slide;
    }

    /**
     * Create Division Highlight Slide - Purpose-driven division overview
     */
    function createDivisionHighlightSlide(divisionKey, divisionData) {
      const slide = document.createElement('div');
      const config = DIVISION_CONFIG[divisionKey];
      slide.className = `slide division-slide ${divisionKey}`;

      // Get unique apps for this division (excluding whole school)
      const uniqueApps = (divisionData.apps || []).filter(app => !app.isWholeSchool);
      const displayApps = uniqueApps.slice(0, MAX_APPS_PER_SLIDE);

      // Group by category for this division
      const categoryGroups = groupAppsByCategory(uniqueApps);
      const topCategories = Object.entries(categoryGroups)
        .sort((a, b) => b[1].length - a[1].length)
        .slice(0, 3);

      const categoryBadgesHTML = topCategories.map(([cat, apps]) => {
        const catConfig = CATEGORY_CONFIG[cat] || CATEGORY_CONFIG['Other'];
        return `<div class="division-category-badge"><i data-lucide="${catConfig.icon}" style="width: 16px; height: 16px;"></i> ${cat} (${apps.length})</div>`;
      }).join('');

      const appsHTML = displayApps.map(app => {
        const logoUrl = app.logoUrl || getFaviconUrl(app.website);
        return `
          <div class="division-app-card">
            ${logoUrl ? `<img src="${logoUrl}" alt="${app.product}" class="division-app-logo" onerror="this.style.display='none'">` : ''}
            <div class="division-app-name">${app.product}</div>
          </div>
        `;
      }).join('');

      slide.innerHTML = `
        <div class="division-header">
          <div class="division-grades">${config.grades}</div>
          <h2 class="division-title">${config.title}</h2>
          <p class="division-tagline">${config.tagline}</p>
        </div>
        <div class="division-content">
          <p class="division-description">${config.description}</p>
          <div class="division-categories">
            ${categoryBadgesHTML}
          </div>
          <div class="division-stats">
            <div class="division-stat"><strong>${uniqueApps.length}</strong> Division-Specific Tools</div>
          </div>
        </div>
        <div class="division-apps-grid">
          ${appsHTML}
        </div>
      `;
      lucide.createIcons({ nameAttr: 'data-lucide' });
      return slide;
    }

    /**
     * Create What's New Slide - Limited, clean display
     */
    function createWhatsNewSlide(apps) {
      const slide = document.createElement('div');
      slide.className = 'slide whats-new-slide';

      const appsHTML = apps.map(app => {
        const logoUrl = app.logoUrl || getFaviconUrl(app.website);
        return `
          <div class="new-app-card">
            ${logoUrl ? `<img src="${logoUrl}" alt="${app.product}" class="new-app-logo" onerror="this.style.display='none'">` : ''}
            <div class="new-app-name">${app.product}</div>
            <div class="new-app-desc">${app.description || 'New addition to our toolkit'}</div>
            <div class="new-app-date">Added ${formatDate(app.dateAdded)}</div>
          </div>
        `;
      }).join('');

      slide.innerHTML = `
        <div class="whats-new-header">
          <div class="new-badge">
            <i data-lucide="sparkles" style="width: 24px; height: 24px;"></i>
            <span>NEW TOOLS</span>
          </div>
          <h2 class="whats-new-title">Recently Added</h2>
          <p class="whats-new-subtitle">Fresh additions to enhance your teaching and learning</p>
        </div>
        <div class="new-apps-grid">
          ${appsHTML}
        </div>
      `;
      lucide.createIcons({ nameAttr: 'data-lucide' });
      return slide;
    }

    /**
     * Create Features Slide - Highlights SSO, Mobile, etc.
     */
    function createFeaturesSlide(stats) {
      const slide = document.createElement('div');
      slide.className = 'slide features-slide';
      slide.innerHTML = `
        <h2 class="features-title">Designed for Easy Access</h2>
        <div class="features-grid">
          <div class="feature-card sso">
            <i data-lucide="key" style="width: 48px; height: 48px;"></i>
            <div class="feature-number">${stats.ssoEnabledCount}</div>
            <div class="feature-label">Single Sign-On</div>
            <p class="feature-desc">Log in once, access everything with your SAS credentials</p>
          </div>
          <div class="feature-card mobile">
            <i data-lucide="smartphone" style="width: 48px; height: 48px;"></i>
            <div class="feature-number">${stats.mobileCount}</div>
            <div class="feature-label">Mobile Ready</div>
            <p class="feature-desc">Learn anywhere with apps available on iOS and Android</p>
          </div>
          <div class="feature-card support">
            <i data-lucide="life-buoy" style="width: 48px; height: 48px;"></i>
            <div class="feature-number">24/7</div>
            <div class="feature-label">Support Available</div>
            <p class="feature-desc">Get help when you need it from our Tech Integration team</p>
          </div>
          <div class="feature-card training">
            <i data-lucide="graduation-cap" style="width: 48px; height: 48px;"></i>
            <div class="feature-number">100+</div>
            <div class="feature-label">Training Resources</div>
            <p class="feature-desc">Tutorials, guides, and workshops to build your skills</p>
          </div>
        </div>
      `;
      lucide.createIcons({ nameAttr: 'data-lucide' });
      return slide;
    }

    // ============================================================
    // SLIDESHOW CONTROLS
    // ============================================================

    function createProgressIndicator() {
      const indicator = document.getElementById('progress-indicator');
      indicator.innerHTML = '';
      slides.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.className = 'progress-dot';
        if (index === 0) dot.classList.add('active');
        indicator.appendChild(dot);
      });
    }

    function startSlideshow() {
      if (slideInterval) clearInterval(slideInterval);
      slideInterval = setInterval(() => nextSlide(), SLIDE_DURATION);
    }

    function nextSlide() {
      slides[currentSlideIndex].classList.remove('active');
      currentSlideIndex = (currentSlideIndex + 1) % slides.length;
      slides[currentSlideIndex].classList.add('active');
      updateProgressIndicator();
    }

    function updateProgressIndicator() {
      const dots = document.querySelectorAll('.progress-dot');
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlideIndex);
      });
    }

    // ============================================================
    // MOCK DATA FOR LOCAL TESTING
    // ============================================================
    function getMockData() {
      return {
        wholeSchool: {
          apps: [
            { product: 'Google Workspace', division: 'Whole School', department: 'IT', subject: 'Productivity', licenseType: 'Site', enterprise: true, description: 'Complete suite of productivity and collaboration tools', logoUrl: '', dateAdded: '2024-01-15', ssoEnabled: true, mobileApp: 'Yes', category: 'Productivity', audience: 'Staff,Teachers,Students', isWholeSchool: true },
            { product: 'Canvas LMS', division: 'Whole School', department: 'IT', subject: 'Education', licenseType: 'School', enterprise: true, description: 'Learning Management System for course delivery', logoUrl: '', dateAdded: '2024-02-01', ssoEnabled: true, mobileApp: 'Yes', category: 'Learning Management', audience: 'Teachers,Students', isWholeSchool: true },
            { product: 'Zoom', division: 'Whole School', department: 'IT', subject: 'Communication', licenseType: 'School', enterprise: true, description: 'Video conferencing for remote learning and meetings', logoUrl: '', dateAdded: '2024-01-10', ssoEnabled: true, mobileApp: 'Yes', category: 'Collaboration', audience: 'Staff,Teachers,Students', isWholeSchool: true }
          ],
          enterpriseApps: [
            { product: 'Google Workspace', division: 'Whole School', department: 'IT', subject: 'Productivity', licenseType: 'Site', enterprise: true, description: 'Complete suite of productivity and collaboration tools', logoUrl: '', dateAdded: '2024-01-15', ssoEnabled: true, mobileApp: 'Yes', category: 'Productivity', audience: 'Staff,Teachers,Students' },
            { product: 'Canvas LMS', division: 'Whole School', department: 'IT', subject: 'Education', licenseType: 'School', enterprise: true, description: 'Learning Management System for course delivery', logoUrl: '', dateAdded: '2024-02-01', ssoEnabled: true, mobileApp: 'Yes', category: 'Learning Management', audience: 'Teachers,Students' },
            { product: 'Zoom', division: 'Whole School', department: 'IT', subject: 'Communication', licenseType: 'School', enterprise: true, description: 'Video conferencing for remote learning', logoUrl: '', dateAdded: '2024-01-10', ssoEnabled: true, mobileApp: 'Yes', category: 'Collaboration', audience: 'Staff,Teachers,Students' }
          ],
          everyoneApps: []
        },
        elementary: {
          apps: [
            { product: 'Seesaw', division: 'Elementary', department: 'Elementary', subject: 'Education', licenseType: 'School', enterprise: false, description: 'Digital portfolio and parent communication', logoUrl: '', dateAdded: new Date().toISOString(), ssoEnabled: true, mobileApp: 'Yes', category: 'Communication', audience: 'Teachers,Students,Parents', gradeLevels: 'K-5', isWholeSchool: false },
            { product: 'Epic!', division: 'Elementary', department: 'Elementary', subject: 'Reading', licenseType: 'School', enterprise: false, description: 'Digital library for young readers', logoUrl: '', dateAdded: '2024-10-01', ssoEnabled: true, mobileApp: 'Yes', category: 'Reading & Writing', audience: 'Students', gradeLevels: 'K-5', isWholeSchool: false }
          ]
        },
        middleSchool: {
          apps: [
            { product: 'Kahoot!', division: 'Middle', department: 'Middle School', subject: 'Education', licenseType: 'School', enterprise: false, description: 'Game-based learning platform', logoUrl: '', dateAdded: '2024-10-15', ssoEnabled: false, mobileApp: 'Yes', category: 'Assessment', audience: 'Teachers,Students', gradeLevels: '6-8', isWholeSchool: false },
            { product: 'Desmos', division: 'Middle', department: 'Math', subject: 'Math', licenseType: 'Free', enterprise: false, description: 'Interactive graphing calculator', logoUrl: '', dateAdded: '2024-09-01', ssoEnabled: true, mobileApp: 'Yes', category: 'STEM', audience: 'Teachers,Students', gradeLevels: '6-8', isWholeSchool: false }
          ]
        },
        highSchool: {
          apps: [
            { product: 'Turnitin', division: 'High', department: 'High School', subject: 'English', licenseType: 'School', enterprise: false, description: 'Plagiarism detection and feedback tool', logoUrl: '', dateAdded: '2024-09-01', ssoEnabled: true, mobileApp: 'No', category: 'Assessment', audience: 'Teachers,Students', gradeLevels: '9-12', isWholeSchool: false },
            { product: 'JSTOR', division: 'High', department: 'Library', subject: 'Research', licenseType: 'School', enterprise: false, description: 'Academic research database', logoUrl: '', dateAdded: '2024-08-15', ssoEnabled: true, mobileApp: 'Yes', category: 'Research', audience: 'Teachers,Students', gradeLevels: '9-12', isWholeSchool: false }
          ]
        },
        stats: {
          totalApps: 9,
          wholeSchoolCount: 3,
          elementaryCount: 2,
          middleSchoolCount: 2,
          highSchoolCount: 2
        }
      };
    }
  </script>
</body>
</html>
